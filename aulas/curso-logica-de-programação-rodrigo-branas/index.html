<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function arredondar(valor) {
            return Math.round(valor * 100) / 100;
        }

        function calcularJuros(valor) {
            juros = arredondar(valor * 0.1);
            return juros
        }

        function calcularRendimentos(valor) {
            rendimentos = arredondar(valor * 0.005);
            return rendimentos
        }

        function calcularSaldo(mes, saldoInicial, lancamentos) {
            console.log(mes);

            saldo = saldoInicial

            // para(for) cada item(lancamento) do(of) array/vetor(lancamentos)
            for (lancamento of lancamentos) {
                if (lancamento.tipo === "receita") {
                    saldo += lancamento.valor
                } else {
                    saldo -= lancamento.valor
                }
            }

            if (saldo < 0) {
                juros = calcularJuros(saldo);
                saldo = arredondar(saldo + juros);
            } else {
                rendimentos = calcularRendimentos(saldo);
                saldo = arredondar(saldo + rendimentos);
            }
            return saldo
        }
        // Percentual que cada despesa ocupa no orçamento??
        saldoInicial = 0;
        lancamentosJaneiro = [
            { categoria: "Salário", tipo: "receita", "valor": 3000 },
            { categoria: "Aluguel", tipo: "despesa", "valor": 1000 },
            { categoria: "Conta de Luz", tipo: "despesa", "valor": 200 },
            { categoria: "Conta de Água", tipo: "despesa", "valor": 100 },
            { categoria: "Internet", tipo: "despesa", "valor": 100 },
            { categoria: "Transporte", tipo: "despesa", "valor": 300 },
            { categoria: "Lazer", tipo: "despesa", "valor": 300 },
            { categoria: "Alimentação", tipo: "despesa", "valor": 500 },
            { categoria: "Condomínio", tipo: "despesa", "valor": 300 },
            { categoria: "Farmácia", tipo: "despesa", "valor": 100 }
        ]
        saldoJaneiro = calcularSaldo("Janeiro", saldoInicial, lancamentosJaneiro);
        console.log(saldoJaneiro);
        lancamentosFevereiro = [
            { categoria: "Salário", tipo: "receita", "valor": 3000 },
            { categoria: "Aluguel", tipo: "despesa", "valor": 1200 },
            { categoria: "Conta de Luz", tipo: "despesa", "valor": 250 },
            { categoria: "Conta de Água", tipo: "despesa", "valor": 100 },
            { categoria: "Internet", tipo: "despesa", "valor": 100 },
            { categoria: "Transporte", tipo: "despesa", "valor": 500 },
            { categoria: "Alimentação", tipo: "despesa", "valor": 1000 },
            { categoria: "Condomínio", tipo: "despesa", "valor": 400 }
        ]
        saldoFevereiro = calcularSaldo("Fevereiro", saldoJaneiro, lancamentosFevereiro);
        console.log(saldoFevereiro);
        lancamentosMarco = [
            { categoria: "Salário", tipo: "receita", "valor": 4000, },
            { categoria: "Aluguel", tipo: "despesa", "valor": 1200 },
            { categoria: "Conta de Luz", tipo: "despesa", "valor": 200 },
            { categoria: "Conta de Água", tipo: "despesa", "valor": 100 },
            { categoria: "Internet", tipo: "despesa", "valor": 200 },
            { categoria: "Transporte", tipo: "despesa", "valor": 500 },
            { categoria: "Lazer", tipo: "despesa", "valor": 800 },
            { categoria: "Alimentação", tipo: "despesa", "valor": 1000 },
            { categoria: "Condomínio", tipo: "despesa", "valor": 400 }
        ]
        saldoMarco = calcularSaldo("Março", saldoFevereiro, lancamentosMarco);
        console.log(saldoMarco);


        acumuladoAno = saldoMarco;
        console.log("Ano");
        console.log(acumuladoAno);

        console.log("Quantidade de Lancamentos em Janeiro: ", lancamentosJaneiro.length);
        lancamentosJaneiro.pop();
        lancamentosJaneiro.pop();

        lancamentosJaneiro.push({ categoria: "Financiamento", tipo: "despesa", valor: 200 });
        console.log("Quantidade de Lancamentos em Janeiro: ", lancamentosJaneiro.length);

        for (const lancamento of lancamentosJaneiro) {
            console.log(lancamento.categoria, lancamento.valor);

        }
    </script>
</body>

</html>